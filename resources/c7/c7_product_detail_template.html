<section class="pd">
    <div class="pd-layout">

        <div class="pd-top">
            <aside class="pd-media">
              <c7-if product-image>
                <c7-product-image size="large" index="2" displayType="One">
              </c7-if>
           </aside>

            <div class="pd-content-wrapper">
                <article class="pd-content" aria-labelledby="pd-title">

                    <header class="pd-titlebar">
                        <h1 class="pd-title" x-data x-init="
                        let obs;

                        const apply = () => {
                            const t = ($el.textContent || '').trim();
                            if (!t || $el.querySelector('.pd-vintage')) return;

                            const out = t.replace(/\b(19|20)\d{2}\b/, '<span class=\'pd-vintage\'>$&</span>');
                            if (out !== t) {
                            $el.innerHTML = out;
                            if (obs) obs.disconnect();
                            }
                        };

                        apply();
                        obs = new MutationObserver(apply);
                        obs.observe($el, { childList: true, subtree: true, characterData: true });
                        ">
                        <c7-product-title>
                        </h1>
                        <div class="pd-price">
                            <c7-product-add-to-cart>
                        </div>
                    </header>

                    <c7-if product-meta-blend>
                        <section class="pd-section pd-blend" x-data x-init="
                            const text = $el.textContent.trim();
                            if (!text) return;

                            const varieties = text.split(',').map(v => v.trim()).filter(v => v);
                            if (varieties.length === 0) return;

                            $el.innerHTML = varieties.map(v =>
                                `<span class='c7-chip'>${v}</span>`
                            ).join('');
                        ">
                            <c7-product-meta-blend type="html">
                        </section>
                    </c7-if>

                    <div class="pd-teaser">
                        <c7-product-teaser>
                    </div>

                    <div class="pd-buy">
                    <div class="pd-buy-buttons">
                        <button type="button" class="c7-buy bottle-buy btn" data-c7-qty="1">Add to Cart</button>
                    </div>
                    </div>

                    <c7-if product-meta-tasting_notes>
                        <section class="pd-section pd-notes">
                            <h2 class="pd-h2">Tasting Notes</h2>
                            <c7-product-meta-tasting_notes type="html">
                        </section>
                    </c7-if>

                    <c7-if product-meta-winemaker_notes>
                        <section class="pd-section pd-notes">
                            <h2 class="pd-h2">Winemakerâ€™s Notes</h2>
                            <c7-product-meta-winemaker_notes type="html">
                        </section>
                    </c7-if>

                    <c7-if product-meta-vineyard>
                        <section class="pd-section pd-vineyard">
                            <h2 class="pd-h2">Vineyard</h2>
                            <div class="c7-product__meta" x-data x-init="
                                const el = $el.querySelector('[data-vineyard]');
                                const items = (el.textContent || '').split(',').map(s => s.trim()).filter(Boolean);
                                el.innerHTML = items.map(i => `<span class='c7-chip'>${i}</span>`).join('');
                                ">
                                <div class="pd-checkbox-element" data-vineyard>{{product-meta-vineyard}}</div>
                            </div>
                        </section>
                    </c7-if>

                </article>
            </div>
        </div>

        <div class="pd-long-descr">
            <c7-if product-content>
                <section class="pd-section pd-content">
                    <c7-product-content>
                </section>
            </c7-if>
        </div>

        <c7-if product-meta-ph>

                <div class="pd-meta-grid__row pd-meta-grid__row--top">
                    <div class="pd-meta-grid__top">
                        <div class="pd-meta-grid__cell pd-meta-grid__ava">
                            <div class="pd-meta-grid__kicker">AVA</div>
                            <div class="pd-meta-grid__value pd-meta-grid__value--lg">
                                <c7-product-wine-appellation>
                            </div>
                        </div>

                        <div class="pd-meta-grid__cell pd-meta-grid__vineyards">
                            <div class="pd-meta-grid__kicker pd-meta-grid__kicker--right">Vineyards</div>
                            <div class="pd-meta-grid__value pd-meta-grid__value--lg pd-meta-grid__value--right">
                                <c7-product-meta-vineyard>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pd-meta-grid__row pd-meta-grid__row--mid">
                    <div class="pd-meta-grid__mid">
                        <div class="pd-meta-grid__cell pd-meta-grid__aging">
                            <div class="pd-meta-grid__kicker">Aging</div>
                            <div class="pd-meta-grid__value pd-meta-grid__value--md">
                                Sur Lie: <c7-product-meta-sur-lie><br />
                                Total Barrel: <c7-product-meta-total-barrel>
                            </div>
                        </div>

                        <div class="pd-meta-grid__cell pd-meta-grid__bottling">
                            <div class="pd-meta-grid__kicker pd-meta-grid__kicker--right">Bottling</div>
                            <div class="pd-meta-grid__value pd-meta-grid__value--md pd-meta-grid__value--right">
                                Cases Bottled: <c7-product-meta-cases-bottled><br />
                                Bottling Date: <c7-product-meta-bottling-date>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pd-meta-grid__row pd-meta-grid__row--bottom">
                    <div class="pd-meta-grid__bottom">
                        <div class="pd-meta-grid__kicker">Technical Notes</div>

                        <div class="pd-meta-grid__tech-values" role="list">
                            <div class="pd-meta-grid__metric" role="listitem">
                                <span class="pd-meta-grid__metric-label">pH:</span>
                                <span class="pd-meta-grid__metric-value"><c7-product-meta-ph></span>
                            </div>

                            <div class="pd-meta-grid__metric" role="listitem">
                                <span class="pd-meta-grid__metric-label">TA:</span>
                                <span class="pd-meta-grid__metric-value"><c7-product-meta-ta></span>
                                <span class="pd-meta-grid__metric-unit">g TAR/100ML</span>
                            </div>

                            <div class="pd-meta-grid__metric pd-meta-grid__metric--right" role="listitem">
                                <span class="pd-meta-grid__metric-label">RS:</span>
                                <span class="pd-meta-grid__metric-value"><c7-product-meta-rs></span>
                                <span class="pd-meta-grid__metric-unit">g/100ML</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="pd-video">
            <div class="video-content">
                
            </div>
        </div>
    </div>
</section>