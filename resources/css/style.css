/* -------- Global -------- */
body {
  display: flex;
}
main {
  display: flex;
  flex-wrap: wrap;
  width: 100%;
  flex: 0 0 auto;  
}

/* -------- Visibility Helpers -------- */
.desktop-only {
  display: none; /* mobile default: hidden */
}  

/* -------- Modes / Preferences -------- */
@media (prefers-color-scheme: dark) {
  :root {
    --text-color: var(--color-bg);
    --bg-color: var(--color-text);
    --border-color: var(--border-color);
  }
}
@media (prefers-contrast: more) {
  body { 
    background-color: #fff; 
    color: #000; }
  a { 
    color: #000; 
    text-decoration: underline; }
}

/* -------- Accessibility --------  */
.sr-only { 
  position: absolute !important;
  width: 1px !important; height: 1px !important;
  padding: 0 !important; margin: -1px !important;
  overflow: hidden !important; clip: rect(0,0,0,0) !important;
  white-space: nowrap !important; border: 0 !important;
}

:focus { outline: none !important; }
body.user-is-tabbing :focus {
  outline: 2px solid var(--alt-color) !important;
  outline-offset: 2px;
} 

/* -------- Typography -------- */
:root {
  --lc-heading-tracking: -0.01em;
  --text-color: var(--color-text);
  --bg-color: #f1e8e0;
  --alt-color: #e5b321;
  --login-bg: #e5b321;
  --font-family: 'Mona Sans', sans-serif;
  --font-optical-sizing: auto;
  --font-variation-settings: "wdth" 100;
  -webkit-text-size-adjust: 100%;
  word-wrap: break-word;
  font-kerning: normal;
  font-feature-settings: "kern", "liga", "clig", "calt";
}

/* Use Rufina for headings, keep body as-is (from tokens/fonts) */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-serif);
  letter-spacing: var(--lc-heading-tracking);
}

/* Fluid sizes that wonâ€™t fight existing utilities */
h1 { font-weight: 700; line-height: 1.1; font-size: clamp(2.25rem, 3.2vw + 1rem, 3.5rem); }
h2 { font-weight: 700; line-height: 1.15; font-size: clamp(1.875rem, 2.2vw + 1rem, 2.75rem); }
h3 { font-weight: 700; line-height: 1.2;  font-size: clamp(1.5rem,  1.4vw + 1rem, 2rem); }
h4 { font-weight: 600; line-height: 1.25; font-size: 1.25rem; }
h5 { font-weight: 600; line-height: 1.3;  font-size: 1.125rem; }
h6 { font-weight: 600; line-height: 1.35; font-size: 1rem; }

/* Combined Headlines */
h1 + h2 {
  margin-top: 0.2;
}

h1 + h3 {
  margin-top: 0.15em;
}

h1 + h4 {
  margin-top: 0.1em;
}

h1 + h5 {
  margin-top: 1.2em;
}

h1 + h6 {
  margin-top: 0.65em;
}

h2 + h3 {
  margin-top: 0.2em;
}

h3 + h4 {
  margin-top: 0.1em;
}

h4 + h5 {
  margin-top: 0.2em;
}

h5 + h6 {
  margin-top: 0.35em;
}

p {
  margin: 0;
}

p + p {
  margin-block-start: 1.2em;
}

@media (min-width: 820px) {
  p + figure {
    margin-block-start: 2em; /* 2em approximates 1.2em applied to paragraphs... it's eyeballed */
    }
}

/* Lead paragraphs on marketing blocks */
.lead { 
  font-size: clamp(1.125rem, 0.6vw + 1rem, 1.375rem); 
  line-height: 1.6; 
}

/* Ampersands/italics: opt-in utility (Libre Baskerville) */
.brand-serif-italic, em { 
  font-family: var(--font-serif-italic); 
  font-style: italic; 
  font-weight: 200;
  vertical-align: -1px;
}

/* -------- Universal Top Padding ---------- */

main:has(> article) {
    position: relative;
}

main#content > article {
    position: relative;
    scroll-margin-top: var(--nav-clearance, 150px);
}

/* -------- Style Guide Visualizations -------- */

#style-guide {
  display: flex;
  flex-direction: column;
  justify-content: center;
  row-gap: 1.5rem;
  margin-block: 1.5rem 3rem;
  max-width: 90ch;
}

/* -------- Commerce7 Global Overrides -------- */

:root {
  /* Layout */
  --c7-page-width: 1200px;
  --c7-page-width-checkout: 1200px;

  /* Typography */
  --c7-font-family: var(--font-sans);
  --c7-heading-font-family: var(--font-serif);

  --c7-body-text-color: var(--color-text);
  --c7-heading-text-color: var(--color-text);
  --c7-alt-text-color: var(--color-text);

  --c7-font-size: 1rem;
  --c7-font-size-sub: 14px;
  --c7-heading-font-weight: var(--font-weight-regular);

  /* Brand colors */
  --c7-primary-color: var(--color-accent);
  --c7-primary-color-text: var(--color-text);
  --c7-primary-color-dark: var(--color-accent-600);
  --c7-primary-color-focus: var(--color-accent);

  --c7-link-color: var(--color-accent);

  /* Surfaces / borders */
  --c7-bg: var(--color-bg);
  --c7-bg-alt: var(--color-surface-alt);
  --c7-border-color: var(--color-border);
  --c7-border-radius: var(--radius-md);

  /* Overlays / modals */
  --c7-overlay-bg: var(--overlay-bg);
  --c7-modal-border-radius: var(--radius-lg);
  --c7-modal-shadow: var(--shadow-2);

  /* Form fields */
  --c7-field-bg: var(--color-surface);
  --c7-field-border-radius: var(--radius-sm);
  --c7-field-border-color: var(--color-border);
  --c7-field-focus-color: var(--color-accent);
  --c7-field-option-selected-color: var(--color-accent-500);
  --c7-field-option-focus-color: var(--color-accent-500);

  /* Buttons */
  --c7-primary-button-bg: var(--color-text);
  --c7-primary-button-bg-hover: var(--color-text);
  --c7-primary-button-text-color: var(--color-bg);

  --c7-alt-button-bg: transparent;
  --c7-alt-button-bg-hover: transparent;
  --c7-alt-button-text-color: var(--color-text);

  --c7-button-border-radius: var(--radius-btn);

  /* Loading / misc */
  --c7-loading-bg: var(--color-surface);
  --c7-progress-bar: var(--color-accent-500);
  --c7-pill-bg: var(--color-neutral-lt);
  --c7-pill-text-color: var(--color-text);
}

/* Ensure C7 root areas inherit site typography */
#c7-content,
#c7-cart,
#c7-account {
  font-family: var(--font-sans);
  color: var(--color-text);
}

/* -------- Links -------- */
a {
  color: var(--color-accent);
  text-underline-offset: 0.15em;
  text-decoration-thickness: 0.08em;
}
a:hover { 
  color: var(--color-accent-600); 
  text-decoration: underline; 
}

/* -------- Buttons -------- */
button,
input[type="button"],
input[type="submit"],
.btn {
  -webkit-font-smoothing: antialiased;
  font-weight: 600;
  border-radius: var(--radius-pill);
  padding: 0.75rem 1.25rem;
  border: 1px solid var(--color-border);
  background: var(--color-surface);
  color: var(--color-text);
  box-shadow: var(--shadow-1);
  transition: background-color .15s ease, color .15s ease, border-color .15s ease, box-shadow .15s ease;
}
button:hover,
input[type="button"]:hover,
input[type="submit"]:hover,
.btn:hover {
  border-color: color-mix(in oklab, var(--color-border), var(--color-text) 25%);
  box-shadow: var(--shadow-2);
}

/* Accent variant (opt-in via .btn--primary or .button--primary) */
.btn--primary,
.button--primary,
[type="submit"].is-primary {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: oklch(0.18 0 0); /* dark text on gold */
}
.btn--primary:hover,
.button--primary:hover,
[type="submit"].is-primary:hover {
  background: var(--color-accent-600);
  border-color: var(--color-accent-600);
}

/* -------- Le Cuvier Global Buttons -------- */

/* Basic Button (matches Product Cards .purchase-button) */
.lc-btn-basic,
.product-cards .product-purchase a.purchase-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: var(--min-height-btn);
  padding: var(--padding-btn);
  background: var(--color-bg);
  color: hsl(0 0% 22%);
  text-decoration: none;
  border: 1px solid #d4cec6;
  border-radius: var(--radius-btn);
  transition: background-color .2s ease, border-color .2s ease, color .2s ease;
}

.lc-btn-basic:hover,
.product-cards .product-purchase a.purchase-button:hover {
  text-decoration: none;
}

.lc-btn-basic:focus-visible,
.product-cards .product-purchase a.purchase-button:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

/* Purchase Button (matches Product Detail .pd-buy-buttons button) */
.lc-btn-purchase,
.pd-buy-buttons button {
  display: flex;
  justify-content: center;
  flex-grow: 1;
  color: var(--text-color);
  border: solid 3px rgb(167 152 130 / 75%);
  padding: 16px;
  border-radius: 5px;
  font-size: 1rem;
  max-width: calc-size(fit-content, size + 16rem);
}

.lc-btn-purchase:hover,
.pd-buy-buttons button:hover {
  text-decoration: none;
  border: solid 3px var(--text-color); 
  background: var(--text-color);
  color: var(--bg-color);
}

/* Commerce7 modal buttons override */
.c7-modal {
  align-self: center;
  background: var(--color-bg);
}

.c7-modal .c7-btn--primary:not([disabled]):hover {
  background: var(--alt-color);
}

/* Commerce7 button override */
.c7-btn--primary:not([disabled]):active, .c7-btn--primary:not([disabled]):focus, .c7-btn--primary:not([disabled]):hover, .c7-btn--primary--small:not([disabled]):active, .c7-btn--primary--small:not([disabled]):focus, .c7-btn--primary--small:not([disabled]):hover {
  background: var(--color-accent-500);
  color: var(--color-text);
}

.c7-btn--primary, .c7-btn--primary--small {
  background: var(--color-text);
  color: var(--bg-color);

  border-radius: var(--c7-button-border-radius);
  font-size: var(--c7-font-size);
  font-family: var(--c7-font-family);
  font-size: var(--c7-font-size);
  line-height: 1.5;
  min-height: 46px;
  padding: 11px 20px;
}

/* Block button utility - matches c7-btn--primary styling */
.btn--block-primary {
  display: inline-block;
  background: var(--color-text);
  color: var(--bg-color);
  border-radius: var(--c7-button-border-radius);
  font-size: var(--c7-font-size);
  font-family: var(--c7-font-family);
  line-height: 1.5;
  min-height: 46px;
  padding: 11px 20px;
  text-decoration: none;
  transition: background-color 0.2s ease;
  border: none;
  cursor: pointer;
}

.btn--block-primary:hover,
.btn--block-primary:focus,
.btn--block-primary:active {
  background: var(--color-accent-500);
  color: var(--color-text);
}

/* Ghost variant */
.btn--ghost,
.button--ghost {
  background: transparent;
  border-color: var(--color-border);
}

/* -------- Forms -------- */
input:not([type="checkbox"]):not([type="radio"]),
textarea,
select {
  appearance: none;
  width: 100%;
  border: 1px solid var(--color-border);
  background: var(--color-surface);
  color: var(--color-text);
  border-radius: var(--radius-sm);
  padding: 0.625rem 0.875rem;
  line-height: 1.5;
  transition: border-color .15s ease, box-shadow .15s ease;
}

/* Focus: works with your keyboard-only outline pattern */
input:not([type="checkbox"]):not([type="radio"]):focus,
textarea:focus,
select:focus {
  outline: none; /* body.user-is-tabbing adds outline globally */
  box-shadow: 0 0 0 2px var(--color-accent);
  border-color: var(--color-accent);
}

/* Placeholder tone */
::placeholder { 
  color: color-mix(in oklab, var(--color-text), white 45%); 
}

/* Field group spacing */
label { 
  display: inline-block; 
  margin-bottom: 0.375rem; 
  font-weight: 600; 
}
.form-row, .field, .form-group { 
  margin-block: 0.75rem; 
}

/* Commerce7 checkbox override */
.c7-checkbox__control, .c7-radio__control {
  margin: 0 10px 0 0;
}

/* -------- Global Token Hooks -------- */
html, body {
  background: var(--bg-gradient);
  color: var(--color-text);
  font-family: var(--font-sans);
  font-size: var(--text-size-base);
  font-optical-sizing: normal;
  font-variation-settings: "wdth" 100;
  line-height: var(--line-height-base);
  overflow-x: hidden;
}

/* -------- Utilities -------- */
.u-surface {
  background: var(--color-surface);
  box-shadow: var(--shadow-1);
}
.u-surface-2 {
  background: var(--color-surface-alt);
}
.u-rounded {
  border-radius: var(--radius-lg);
}
.u-pill {
  border-radius: var(--radius-pill);
}
.u-border {
  border: 1px solid var(--color-border);
}

/* Soft gradient site-wide */
.has-bg-gradient {
  background: var(--bg-gradient);
}
