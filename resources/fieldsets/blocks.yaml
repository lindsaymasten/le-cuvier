title: Blocks
fields:
  -
    handle: blocks
    field:
      type: replicator
      localizable: true
      collapse: true
      listable: false
      display: Blocks
      instructions: 'Build your page by using various predefined content models.'
      button_label: 'Add Block'
      sets:
        main:
          display: Main
          sets:
            product_cards:
              display: Product Cards
              instructions: Place a Commerce7 products collection.
              icon: dashboard-layout
              fields:
                - handle: c7_collection_slug
                  field:
                    type: slug
                    display: Collection Slug
                    instructions: Enter the Commerce7 collection slug (Store → Collections → Desired Collection → SEO → Slug).
                    validate:
                      - required

                - handle: audience
                  field:
                    type: select
                    display: Visibility
                    instructions: Choose who can see this block.
                    options:
                      all: All visitors
                      members: Logged-in members only
                    clearable: false
                    multiple: false
                    searchable: false
                    default: all
                    validate:
                      - required

                - handle: guest_message
                  field:
                    type: textarea
                    display: Guest Message
                    instructions: Message shown to visitors who aren’t logged in.
                    placeholder: Log in to view member products.
                    antlers: false
                    if:
                      audience: equals members
      
                - handle: c7_notice
                  field:
                    type: html
                    display: This is a Commerce7 block:
                    antlers: false
                    html: |
                      <div class="help-block">
                      <p>Products shown are pulled automatically from the Commerce7 product collection specified by the title.</p>
                      <p>Manage products and promotions: <a href="https://admin.commerce7.com/" target="_blank" rel="noopener">Open Commerce7</a></p>
                      </div>
            article:
              display: Article
              instructions: 'Long form content, can be expanded with picture, video, quotes or tables.'
              icon: text-formatting-image-bottom
              fields:
                -
                  import: article
            blog_excerpt:
              display: 'Blog Excerpt'
              icon: layout-three-columns
              fields:
                -
                  import: blog_excerpt
            blog_paginated:
              display: 'Blog Paginated'
              icon: layout-grid-dots
              fields:
                -
                  import: blog_paginated
            contact:
              display: Contact
              icon: phone-contact-phonebook
              fields:
                -
                  import: contact
            faqs:
              display: FAQs
              icon: alert-help-question
              fields:
                -
                  import: faqs
            hero_home:
              display: 'Hero Home'
              icon: align-object-top
              fields:
                -
                  import: hero_home
            newsletter:
              display: Newsletter
              icon: social-mail-send-email-message
              fields:
                -
                  import: newsletter
            search_form:
              display: 'Search form'
              icon: search-magnifying-glass
              fields:
                -
                  import: search_form
            search_results:
              display: 'Search Results'
              icon: text-formatting-image-bottom
              fields:
                -
                  import: search_results
            style_guide:
              display: 'Style Guide'
              instructions: 'Styles and components in one place.'
              icon: edit-paint-palette
              fields:
                -
                  import: style_guide
            team:
              display: Team
              icon: user-multiple
              fields:
                -
                  import: team
            testimonials:
              display: Testimonials
              icon: text-formatting-quotation
              fields:
                -
                  import: testimonials
